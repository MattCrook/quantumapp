{% extends 'shared/base.html' %}

{% load static %}


{% block css %}
<link rel="stylesheet" href="{% static 'styles/group_chat.css' %}" />
{% endblock %}



{% block content %}
<!-- <div>Search Bar</div>
    <div>Container for Search results</div>
    <div>Container for selected Users to add to chat</div>
    <div>Form adding those users to a room, creating a room</div>
    <div>Button to "Add" and go to room / where websockets will be called.</div>
    <div>Save rooms when user exits</div>
    <div>Have something show open rooms to user, or at least group chats they are in.

        Show friends list...show active with like green dot or something (reading the is_active db column)
    </div> -->

<!-- <div class="search_container">
    <input class="search_bar" placeholder="Search for users..." />
</div> -->





<div class="group_chat_main_container">
    <div class="current_group_chats_container">
        <div class="current_group_chats_title_wrapper">
            <div class="current_group_chats_title">Group Chats
                <!-- <i class="far fa-comments"></i> -->
                <i class="fas fa-comments"></i>
            </div>
        </div>
        <div class="group_chat_list">
            {% if group_chats.length > 0 %}
            {% for chat in group_chats %}
            <div class="chat_item">{{group.title}}</div>
            {% endfor %}
            {% else %}
            <div class="no_chat_item">None</div>
            {% endif %}
        </div>
    </div>

    <div class="add_new_group_container">
        <div class="create_new_group_btn_wrapper">
            <div class="create_new_group_chat_btn">Create New Group<i class="fas fa-users"></i></div>
        </div>
        <!-- <div class="new_group_create_form_container" style="display: none;">
            <form class="new_group_form" action="{% url 'quantumforum:group_chat' %}" method="POST">
                <label class="group_form_label" for="group_name">Group Chat Name</label>
                <input class="group_chat_input" id="group_name" type="text" name="group_name"
                    value="{{ group.name }}" />
                <label class="group_form_label" for="friends">Invite Friends</label>
                <input class="group_chat_input_search" id="friends" name="friends" placeholder="Search friends..."
                    value="{{friend.name}}" />

                <input id="create_group" type="submit" value="Create" />
            </form>
        </div> -->



        <div id="new_group_create_form_container" class="login-wrap" style="display: none;">
            <div class="login-html">
                <input id="tab-1" type="radio" name="tab" class="sign-in" checked><label for="tab-1" class="tab">New
                    Group</label>
                <div class="login-form">
                    <form class="sign-in-htm" action="{% url 'quantumforum:group_chat' %}" method="POST">
                        <div class="group">
                            <label for="user" class="label">Group Name</label>
                            <input id="user" type="text" class="input" name="user" autofocus />
                        </div>
                        <div class="group">
                            <label for="pass" class="label">Participants</label>
                            <input id="pass" type="text" class="input" placeholder="Search for users..." />
                        </div>
                        <div class="group">
                            <input type="submit" class="button" value="Create Group">
                        </div>
                        <div class="hr"></div>
                        <div class="list_of_participants_container">
                            <div class="invitee_list_title">Users Invited To This Group Chat</div>
                            <ul>
                                <li class="participant_item">Matt crook</li>
                                <li class="participant_item">Matt crook</li>
                                <li class="participant_item">Matt crook</li>
                                <li class="participant_item">Matt crook</li>

                                <li class="participant_item">Matt crook</li>
                                <li class="participant_item">Matt crook</li>
                                <li class="participant_item">Matt crook</li>
                                <li class="participant_item">Matt crook</li>

                                {% for person in participants %}
                                <li class="participant_item">{{person.first_name}} {{person.last_name}}</li>
                                {% endfor %}
                            </ul>
                        </div>
                    </form>
                </div>
                <div class="signature_group">
                    <p id="signature_font_group">
                        Made by <a href="https://matt-crook-io.now.sh/">Quantum Coasters</a> <i
                            class="fas fa-trademark"></i>
                    </p>
                </div>
            </div>
        </div>
    </div>



    <div class="friends_master_container">
        <div class="friends_title_container">
            <div class="friends_title">Your Quantum Friends <i class="fas fa-globe"></i>
                <!-- <i class="fas fa-circle"></i> -->
            </div>
        </div>
        <div class="active_friends_list_container">
            {% if has_active_friends %}
            {% for friend in is_active_user_friends %}
            <div class="active_friend_row_wrapper">
                <i class="fas fa-circle"></i>
                <div class="active_friend_profile_pic">{{friend.userprofile.image}}</div>
                <div class="active_friend_list_item">{{friend.first_name}} {{friend.last_name}}</div>
                <i class="fas fa-user-plus"></i>
                <i class="fas fa-user-minus"></i>
                <i class="fas fa-user-slash"></i>
            </div>
            {% endfor %}
            {% else %}
            <div class="no_active_friends">No friends currently online</div>
            {% endif %}
        </div>
    </div>
</div>



{% endblock %}

{% block scripts %}
<script src="{% static 'scripts/eventListeners.js'%}"></script>
{% endblock %}
